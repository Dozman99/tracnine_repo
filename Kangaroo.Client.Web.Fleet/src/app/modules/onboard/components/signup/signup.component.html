<div class="d-flex justify-content-between container main me-0 pe-0">
  <div class="text-center mt-5 me-5" *ngIf="!showCompanyDetails">
    <h1 class="fw-bold">Sign Up</h1>
    <form [formGroup]="registrationForm">
      <mat-form-field appearance="outline" class="col-10 mt-5">
        <mat-label>First Name</mat-label>
        <input type="text" matInput required formControlName="firstName" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Last Name</mat-label>
        <input type="text" matInput required formControlName="surname" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Username</mat-label>
        <input type="text" matInput required formControlName="username" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          required
          formControlName="email"
          [pattern]="emailRegex"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Phone Number</mat-label>
        <input type="number" matInput required formControlName="phoneNumber" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Identity Type</mat-label>
        <input type="text" matInput required formControlName="identityType" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Identity ID</mat-label>
        <input type="text" matInput required formControlName="identityId" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-10 mt-2">
        <mat-label>Password</mat-label>
        <input
          type="password"
          #passwordInput="ngModel"
          [minlength]="6"
          ngModel
          [ngModelOptions]="{ standalone: true }"
          [(ngModel)]="password"
          matInput
          required
        />
      </mat-form-field>

      <mat-form-field
        appearance="outline"
        class="col-10 mt-2"
        [ngClass]="{
          'mat-form-field-invalid':
            registrationForm.controls['password'].value !== passwordInput.value
        }"
      >
        <mat-label>Confirm Password</mat-label>
        <input type="password" matInput required formControlName="password" />
      </mat-form-field>

      <button
        mat-flat-button
        class="mat-button-primary mt-2 px-5"
        (click)="signUp()"
        type="button"
        [disabled]="
          registrationForm.invalid ||
          registrationForm?.controls?.password?.value !== passwordInput.value
        "
      >
        Sign Up
      </button>
    </form>
    <div class="mt-4 fw-bold">
      Have an account?
      <span style="cursor: pointer" class="mat-text-primary pointer" routerLink="/auth/login">
        Login here
      </span
      >
    </div>
  </div>

  <div class="mt-5 d-flex flex-column justify-content-center" *ngIf="false">
    <div class="text-center mb-3">
      <h1>Enter Token</h1>
      <p class="text-black-50">
        Enter the token sent to the registered phone number
      </p>
    </div>
    <div class="d-flex align-items-center justify-content-between">
      <input
        type="text"
        #token1
        ngModel
        class="tokenInput"
        [maxlength]="1"
        [minlength]="1"
      />
      <input
        type="text"
        #token2
        ngModel
        class="tokenInput"
        [maxlength]="1"
        [minlength]="1"
      />
      <input
        type="text"
        #token3
        ngModel
        class="tokenInput"
        [maxlength]="1"
        [minlength]="1"
      />
      <input
        type="text"
        #token4
        ngModel
        class="tokenInput"
        [maxlength]="1"
        [minlength]="1"
      />
    </div>
    <div class="text-center mt-4">
      <button
        mat-flat-button
        class="mat-button-primary"
        [disabled]="
          !token1.value || !token2.value || !token3.value || !token4.value
        "
      >
        Send
      </button>
      <div class="mt-3 mat-text-primary">Resend Token?</div>
    </div>
  </div>
  <div class="text-center mt-5 me-5" *ngIf="showCompanyDetails">
    <app-create-company
      (companyCreated)="skipCOmpanyDetails()"
      [canSkip]="false"
    ></app-create-company>
  </div>
  <div class="position-relative image">
    <img
      src="assets/images/logo-white.svg"
      alt=""
      class="position-absolute end-0 me-3 top-0"
    />
    <img src="assets/images/auth/register.svg" alt="" />
  </div>
</div>
