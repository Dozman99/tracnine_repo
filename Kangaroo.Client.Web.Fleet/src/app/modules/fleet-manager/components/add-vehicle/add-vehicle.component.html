<div class='container'>
  <div class="text-center">
      <h1 class='mb-4'>{{data.actionType}} Vehicle</h1>
      <!-- <img src="assets/images/fleet-management/empty-img.svg" alt=""> -->
  </div>
  <mat-stepper [linear]='true' #stepper class='mt-4'>
      <mat-step state="driver" [stepControl]="addVehicleFormPage1" label='Page 1'>
        <form [formGroup]="addVehicleFormPage1" class="mt-5">
          <div class='text-center'>
            <div class="row">
              <div class="col-12 col-md-6 mb-3">
                <ng-multiselect-dropdown [(ngModel)]="existingBrand" [ngModelOptions]="{standalone: true}" [placeholder]="'Select Brand'" [settings]="dropdownSettings"
                [data]="listOfVehicleBrands" name='brands' (onSelect)="onBrandSelect($event)"
                (onDeSelect)="onBrandDeselect($event)">
                </ng-multiselect-dropdown>
              </div>
              <div class="col-12 col-md-6 mb-3">
                <ng-multiselect-dropdown [(ngModel)]="existingModel" [ngModelOptions]="{standalone: true}" [disabled]="!listOfVehicleModels.length" [placeholder]="'Select Model'" [settings]="dropdownSettings"
                [data]="listOfVehicleModels" name='models' (onSelect)="onModelSelect($event)"
                (onDeSelect)="onModelDeselect($event)">
                </ng-multiselect-dropdown>
              </div>
              <!-- <div class="col-12 col-md-6 mb-3">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Brand Name</mat-label>
                  <input matInput placeholder="Brand Name" type='text' formControlName='brandName' [min]='1' required>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6 mb-3">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Vehicle Model</mat-label>
                  <input matInput placeholder="Model Name" type='text' formControlName='modelName' [min]='1' required>
                </mat-form-field>
              </div> -->
              <!-- <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Brand</mat-label>
                  <input matInput placeholder="Brand" type='number' formControlName='brandId' required>
                </mat-form-field>
              </div> -->
              <!-- <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Model</mat-label>
                  <input matInput placeholder="Model" type='number' formControlName='modelId' required>
                </mat-form-field>
              </div> -->
              <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Type</mat-label>
                  <mat-select formControlName='type' appearance="outline">
                    <mat-option *ngFor="let vehicle of vehicleTypes" [value]="vehicle.id">
                      {{vehicle.name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class='w-100'>
                  <mat-label>Year of Manufacture</mat-label>
                  <input matInput type="number" formControlName='yearOfManufacture' required>
                </mat-form-field>
              </div>
              <!-- <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Number of Tyres</mat-label>
                  <input matInput placeholder="Number of Tyres" type='number' formControlName='numberOfTyres' [min]='1' required>
                </mat-form-field>
              </div> -->
              <div class="col-12">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Description</mat-label>
                  <textarea matInput placeholder="Description" formControlName='description'></textarea>
                </mat-form-field>
              </div>

            </div>

          </div>

          <div class='text-end mt-4'>
            <button mat-flat-button class='mat-button-primary' matStepperNext
              >Next</button>
          </div>

        </form>
      </mat-step>
      <mat-step state="contact" [stepControl]="addVehicleFormPage2" label='Page 2'>
        <form [formGroup]="addVehicleFormPage2" class="mt-5">
          <div class='text-center'>
            <div class="row">
              <!-- <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Seat Number</mat-label>
                  <input matInput placeholder="Seat Number" type='number' formControlName='seatCount' required>
                </mat-form-field>
              </div> -->
              <div class="col-12">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Plate Number</mat-label>
                  <input matInput placeholder="Plate Number" type='text' formControlName='plateNumber' required>
                </mat-form-field>
              </div>


              <div class="col-12">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Color</mat-label>
                  <input matInput placeholder="Color" type='text' formControlName='color' required>
                </mat-form-field>
              </div>
              <!-- <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="mb-3 w-100">
                  <mat-label>Capacity</mat-label>
                  <input matInput placeholder="capacity" type='number' formControlName='capacity' required>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6 mb-3">
                <ng-multiselect-dropdown [(ngModel)]="existingCapacityUnit" [ngModelOptions]="{standalone: true}" [placeholder]="'Select Capacity Unit'" [settings]="dropdownSettings"
                [data]="listOfCapacityUnits" name='capacity unit' (onSelect)="onCapacityUnitSelect($event)"
                (onDeSelect)="onCapacityUnitDeselect($event)">
                </ng-multiselect-dropdown>
              </div> -->
              <!-- <div class='text-center mt-4'>
                  <label for="file" class='pointer rounded p-3 border border-2'>
                      <div>
                          <img src="assets/images/folder.svg" alt="">
                      </div>
                      <div>
                          <div class='mat-text-grey'>Upload Documents</div>
                          <div class='mat-text-primary'>PNG, JPEG, PDF</div>
                      </div>
                      <div class="mt-4 text-center p-3 d-flex align-items-center justify-content-center fw-bold" [ngClass]="{'border rounded': uploadedFile}">
                          {{uploadedFile?.name}}
                      </div>
                  </label>
                  <input id='file' type="file" hidden (change)="uploadFile($event)" accept=".png, .jpg, .jpeg, .pdf">
              </div> -->
            </div>

          </div>

          <div class='d-flex align-items-center justify-content-end mt-4'>
            <button mat-flat-button class='mat-button-secondary' matStepperPrevious>Back</button>
            <button mat-flat-button class='mat-button-primary ms-3' (click)='saveVehicle()'
              >
              Create
              <div class="text-center ms-3 mat-text-secondary d-inline-block" *ngIf="loading">
                <div class="spinner-border spinner-border-sm" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div></button>
          </div>

        </form>
      </mat-step>
      <ng-template matStepperIcon="driver">
        <mat-icon>person</mat-icon>
      </ng-template>
      <ng-template matStepperIcon="contact">
        <mat-icon>call_end</mat-icon>
      </ng-template>
    </mat-stepper>
</div>
